!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}({5:function(e,t){function n(){id=v["assets/treasureHunter.json"].textures,g=new u,w.addChild(g);var e=new p(id["dungeon.png"]);g.addChild(e),T=new p(id["door.png"]),T.position.set(32,0),g.addChild(T),C=new p(id["explorer.png"]),C.x=64,C.y=(g.height-C.height)/2,C.vx=0,C.vy=0,g.addChild(C),X=new p(id["treasure.png"]),X.x=g.width-X.height-48,X.y=(g.height-X.height)/2,g.addChild(X);for(var t=1,n=0;n<6;n++){var o=new p(id["blob.png"]),s=48*n+150,h=l(0,w.height-o.height);o.x=s,o.y=h,o.vy=F*t,t*=-1,m.push(o),g.addChild(o)}R=a(),R.position.set(w.width-170,4),g.addChild(R),I=new u,w.addChild(I),I.visible=!1,k=new f("The End!",{font:"48px Pixilator"}),k.x=(w.width-k.width)/2,k.y=w.height/2-32,I.addChild(k),d(),b=r,i()}function i(){requestAnimationFrame(i),b(),y.render(w)}function r(){var e={x:28,y:10,width:488,height:480};C.x+=C.vx,C.y+=C.vy,x.contain(C,e);var t=!1;m.forEach(function(n){n.y+=n.vy;var i=x.contain(n,e);i&&(i.has("top")||i.has("bottom"))&&(n.vy*=-1),x.hitTestRectangle(C,n)&&(t=!0)}),t?(C.alpha=.5,R.outer.width-=5):C.alpha=1,x.hitTestRectangle(C,X)&&(X.x=C.x+8,X.y=C.y+8),R.outer.width<=0&&(b=o,k.text="You lost!"),x.hitTestRectangle(X,T)&&(b=o,k.text="You won!")}function o(){g.visible=!1,I.visible=!0}function a(){var e=new u,t=new s;t.beginFill(0),t.drawRect(0,0,128,8),t.endFill(),e.addChild(t);var n=new s;return n.beginFill(16724736),n.drawRect(0,0,128,8),n.endFill(),e.addChild(n),e.outer=n,e}function d(){var e=keyboard(37),t=keyboard(39),n=keyboard(38),i=keyboard(40);e.press=function(){C.vx=-P,C.vy=0},e.release=function(){t.isDown||0!==C.vy||(C.vx=0)},t.press=function(){C.vx=P,C.vy=0},t.release=function(){e.isDown||0!==C.vy||(C.vx=0)},n.press=function(){C.vy=-P,C.vx=0},n.release=function(){i.isDown||0!==C.vx||(C.vy=0)},i.press=function(){C.vy=P,C.vx=0},i.release=function(){n.isDown||0!==C.vx||(C.vy=0)}}function l(e,t){return Math.floor(Math.random()*(t-e+1))+e}var u=PIXI.Container,s=PIXI.Graphics,h=PIXI.loader,c=(PIXI.Rectangle,PIXI.autoDetectRenderer),v=PIXI.loader.resources,p=PIXI.Sprite,f=PIXI.Text,x=(PIXI.utils.TextureCache,PIXI.Texture,new Bump(PIXI)),y=c(512,512);y.view.style.border="1px solid #000",y.backgroundColor="0xFFFFFF",document.getElementById("pixi").appendChild(y.view);var w=new u,g=null,I=null,b=r,C=null,P=2,m=[],F=5,X=null,T=null,R=null,k=null;!function(e){var t=e.split("/").pop().split(".")[0],n=document.createElement("style"),i='@font-face {\n    font-family: "'+t+'";\n    src: url("'+e+'");\n  }';n.appendChild(document.createTextNode(i)),document.head.appendChild(n)}("assets/Pixilator.ttf"),h.add(["assets/treasureHunter.json","assets/Pixilator.ttf"]).load(n)}});
//# sourceMappingURL=main.js.map